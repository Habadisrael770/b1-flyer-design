# 📝 B1-Flyer - סיכום מערכת נוכחית עבור GPT

## 🎯 מטרה

מסמך זה מסכם את המצב הנוכחי של אפליקציית B1-Flyer, כפי שהיא בנויה בקובץ `flygen-FULL-v4-SHARE-SCHEDULE.html`. המטרה היא לספק ל-GPT תמונה מלאה ומפורטת של מה קיים, מה עובד, ומה חסר, כדי לקבל חוות דעת מקצועית על הקוד והמבנה.

---

## 🏛️ ארכיטקטורה כללית

- **סוג:** אפליקציית צד-לקוח בלבד (Client-Side Only).
- **פורמט:** קובץ HTML יחיד (`.html`) המכיל בתוכו את כל ה-CSS וה-JavaScript.
- **Backend:** אין. כל הלוגיקה והנתונים מנוהלים בדפדפן.
- **אחסון נתונים:** `LocalStorage` של הדפדפן משמש לאחסון כל המידע (מוצרים, פליירים, הגדרות).
- **תלויות:** כל הספריות החיצוניות (כמו jsPDF, html2canvas) נטענות דרך CDN.

---

## ✅ פיצ'רים ממומשים (עובדים באופן מלא או חלקי)

### 1. עורך פליירים (Flyer Editor)
- **Canvas:** אזור עבודה מרכזי המציג את הפלייר.
- **בחירת תבניות:** 6 תבניות פלייר מוכנות לבחירה.
- **הוספת מוצרים:** גרירת מוצרים מהרשימה אל תוך הפלייר.
- **עריכת מוצר בפלייר:**
  - שינוי טקסט (שם, מחיר).
  - הוספת תגים (Badges) כמו "מבצע" או "חדש".
  - שינוי צבע רקע ותמונה.
- **Sidebar:** פאנל צדדי עם אפשרויות עריכה (צבעים, פונטים, תבניות).

### 2. ניהול מוצרים (Products Management)
- **הוספה ידנית:** טופס להוספת מוצר חדש עם שם, מחיר, תמונה וברקוד.
- **עריכה:** מודאל לעריכת פרטי מוצר קיים.
- **מחיקה:** הסרת מוצר מהרשימה.
- **אחסון:** המוצרים נשמרים ב-`LocalStorage`.

### 3. מערכת ייצוא (Export System)
- **פורמטים:**
  - **PNG:** הורדת הפלייר כתמונה.
  - **PDF:** הורדת הפלייר כקובץ PDF (מבוסס תמונה, לא טקסט חי).
  - **ZIP:** הורדת חבילה עם PNG, JPG, PDF.
- **איכות:** בחירת רזולוציה (72, 150, 300 DPI).
- **טכנולוגיה:** `html2canvas` להמרת ה-HTML לתמונה, ו-`jsPDF` ליצירת ה-PDF.

### 4. מערכת שיתוף (Share System)
- **יצירת קישור:** יצירת URL ייחודי לפלייר מבוסס `timestamp`.
- **שיתוף לפלטפורמות:**
  - WhatsApp (פותח `wa.me` עם הודעה מוכנה).
  - Facebook (פותח `sharer.php`).
  - Email (פותח `mailto:`).
- **העתקת קישור:** כפתור להעתקת ה-URL ללוח.

### 5. תצוגה מקדימה (Preview)
- **מודאל מסך מלא:** מציג את הפלייר על רקע שקוף, ללא כלי העריכה.
- **סגירה:** ניתן לסגור בלחיצה על 'X' או מחוץ לתמונה.

### 6. שמירת טיוטות (Drafts)
- **שמירה אוטומטית:** שינויים נשמרים ב-`LocalStorage`.
- **טעינה מחדש:** רענון הדף טוען את הטיוטה האחרונה.

---

## 🔄 פיצ'רים ממומשים חלקית (UI קיים, לוגיקה חסרה)

### 1. תזמון קמפיינים (Schedule Campaign)
- **מה קיים:**
  - מודאל לבחירת תזמון ("פרסם עכשיו", "תזמן לתאריך").
  - מודאל לבחירת פלטפורמות (WhatsApp, Facebook, וכו').
- **מה חסר:**
  - **אין לוגיקה:** בחירת תאריך ושעה לא עושה כלום.
  - **אין מנגנון "Cron Job"** שיפעיל את השליחה בזמן הנבחר.
  - הנתונים נשמרים ב-`LocalStorage` אך שום תהליך לא קורא אותם.

### 2. חיבור ל-Google Drive
- **מה קיים:**
  - כפתור "Google Drive" במודאל הייצוא.
- **מה חסר:**
  - **אין לוגיקת OAuth:** דורש הגדרת `CLIENT_ID` וזרימת התחברות מלאה.
  - כרגע, לחיצה על הכפתור פשוט מורידה קובץ PNG במקום להתחבר ל-Drive.

---

## ❌ פיצ'רים שאינם קיימים כלל (אך הוגדרו במסמכי העיצוב)

1.  **מערכת Login/Register:** אין התחברות משתמשים. האפליקציה פתוחה לכל אחד.
2.  **ייבוא מוצרים בבאלק:** אין אפשרות להעלות Excel/CSV או להדביק רשימה.
3.  **דף הגדרות:** אין מקום להגדיר פרטי עסק, לוגו, או העדפות.
4.  **רשימת פליירים שמורים:** אין מסך שמציג את כל הפליירים שהמשתמש יצר.
5.  **דף דוחות וסטטיסטיקות:** הדשבורד מציג נתונים סטטיים, אין דף דוחות ייעודי.
6.  **תמיכה בריבוי שפות:** הכל מקודד בעברית.
7.  **קטגוריות מוצרים:** אין אפשרות לנהל קטגוריות ולסנן לפיהן.

---

## 🎨 Design System (ממומש בקוד)

- **צבעים:** מבוסס סגול (`#7C3AED`) עם צבעי משנה לירוק (הצלחה) ואדום (שגיאה).
- **טיפוגרפיה:** פונט `Heebo` נטען מ-Google Fonts.
- **RTL:** כל המערכת מיושרת לימין ותומכת בעברית.
- **רכיבים:** שימוש נרחב במודאלים, כרטיסיות, וכפתורים עם עיצוב אחיד.

---

## 🐛 בעיות ידועות בקוד הקיים

- **CORS:** בעת ייצוא פלייר עם תמונות משרתים חיצוניים, נוצרת שגיאת CORS ב-`html2canvas`. הפתרון שיושם (`useCORS: true`) לא תמיד עובד.
- **עברית ב-PDF:** קובץ ה-PDF שנוצר הוא תמונה בלבד, הטקסט אינו ניתן לבחירה או חיפוש. זהו מעקף לבעיות תמיכה בעברית של `jsPDF`.
- **תלות ב-LocalStorage:** כל המידע נשמר מקומית בדפדפן. ניקוי cache ימחק הכל. אין גיבוי בענן.

---

## 🚀 פרומפט מומלץ ל-GPT

```
מצורף סיכום מפורט של אפליקציית צד-לקוח ליצירת פליירים, הבנויה כקובץ HTML יחיד המשתמש ב-LocalStorage.

בהתבסס על הסיכום:

1.  **חוות דעת על הארכיטקטורה:** מהם היתרונות והחסרונות של בניית המערכת כקובץ HTML יחיד ללא Backend? מתי ארכיטקטורה כזו תישבר?
2.  **זיהוי בעיות פוטנציאליות:** אילו בעיות אבטחה, ביצועים, או חווית משתמש עלולות לצוץ מהמבנה הקיים?
3.  **המלצות להשלמת הפיצ'רים החסרים:** כיצד היית ממליץ לממש את מערכת התזמון (Scheduling) ואת החיבור ל-Google Drive בארכיטקטורה הנוכחית (ללא Backend)?
4.  **הצעה לארכיטקטורה חלופית:** אם היית בונה את המערכת מחדש, באיזו ארכיטקטורה (למשל, React + Node.js) וספריות היית משתמש כדי לממש את כל הדרישות בצורה אופטימלית?
```
